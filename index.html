<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">
    <style>
        #qr img {
            margin: 0 auto 0;
            padding: 25px;
            border: 1px solid #555;
        }
    </style>

    <title>QR Code Generator</title>
</head>
<body>

<div class="container">
    <div>
        <h1>QR Code Generator</h1>
        <hr>
    </div>

    <div class="row">
        <div class="col-6">
            <div class="form-group">
                <label for="text" class="sr-only">Test to encode</label>
                <input type="text"
                       id="text"
                       name="text"
                       class="form-control"
                       placeholder="Enter text here">
            </div>
            <div class="row">
                <div class="col-3">
                    <div class="custom-control custom-radio">
                        <input type="radio" id="level-low" name="level" value="L" class="custom-control-input">
                        <label for="level-low" class="custom-control-label">Low</label>
                    </div>
                </div>
                <div class="col-3">
                    <div class="custom-control custom-radio">
                        <input type="radio" id="level-medium" name="level" value="M" class="custom-control-input">
                        <label for="level-medium" class="custom-control-label">Medium</label>
                    </div>
                </div>
                <div class="col-3">
                    <div class="custom-control custom-radio">
                        <input type="radio" id="level-quartile" name="level" value="Q" class="custom-control-input">
                        <label for="level-quartile" class="custom-control-label">Quartile</label>
                    </div>
                </div>
                <div class="col-3">
                    <div class="custom-control custom-radio">
                        <input type="radio" id="level-high" name="level" value="H" class="custom-control-input" checked>
                        <label for="level-high" class="custom-control-label">High</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6">
            <div id="qr"></div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.1.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script>

    $(() => {
        let qrCode = null;

        function updateCode() {
            $('#qr').empty();

            let level = $('input[name="level"]:checked').val();
            let levelValue;
            switch (level) {
                case 'L': levelValue = QRCode.CorrectLevel.L; break;
                case 'M': levelValue = QRCode.CorrectLevel.M; break;
                case 'Q': levelValue = QRCode.CorrectLevel.Q; break;
                case 'H': levelValue = QRCode.CorrectLevel.H; break;
                default:
                    levelValue = QRCode.CorrectLevel.H;
            }

            qrCode = new QRCode(document.getElementById("qr"), {
                text: $('input[name="text"]').val(),
                width: 256,
                height: 256,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : levelValue,
            });
        }

        $('input[name="text"]').keyup(updateCode);
        $('input[name="level"]').change(updateCode);

        updateCode();
    });

</script>
</body>
</html>